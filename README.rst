hts-demo-en-US-cmudict-aridity
==============================

This repository contains a version of the US English
`HTS demo <http://hts.sp.nitech.ac.jp/?Download>`_ which has been modified to
support some additional features (see below for a list of modifications).
The HTS demos are designed to demonstrate the capabilities of the
`HMM-based Speech Synthesis System (HTS) <http://hts.sp.nitech.ac.jp/>`_ for
statistical parametric speech synthesis.

Overview
--------

Starting from a corpus of text data and speech audio data from a human speaker,
this software trains a statistical parametric speech synthesis system designed to
imitate that speaker.
This trained system can then be used to synthesize speech audio for new pieces
of text data.

The text data may be provided in one of two forms:

- as simple text files
- as utterance files generated by
  `Festival <http://www.cstr.ed.ac.uk/projects/festival/>`_
  using the same phoneme set used by the
  `CMU Pronouncing Dictionary <http://www.speech.cs.cmu.edu/cgi-bin/cmudict>`_

The speech data should be provided in the form of raw 48 kHz 16-bit audio files,
which are essentially just wav files with the header information removed.

Modifications from the official version
---------------------------------------

This repository contains modifications from the official version of the
US English `HTS demo <http://hts.sp.nitech.ac.jp/?Download>`_.
Some majorish differences include:

- it computes test set log probability on a specified test corpus
- changes to the default values of some ``configure`` variables:

  - use STRAIGHT vocoder by default (USESTRAIGHT)
  - use 50 mceps (instead of 35) by default (MGCORDER)
  - don't use modulation spectrum-based generation by default (USEMSPF)

Some minor differences include:

- it does not include a corpus of text data and speech data for training the
  synthesis system.
  The corpus of data used by the official version is based on the
  `CMU ARCTIC corpus for speaker SLT <http://festvox.org/cmu_arctic/dbs_slt.html>`_
  and may obtained by downloading the official version of the
  US English HTS demo from the
  `HTS demo website <http://hts.sp.nitech.ac.jp/?Download>`_.
- it adds this README file
- it adds the ``License`` file
- it removes the ``configure`` script since a suitable script can be automatically
  generated from the provided ``configure.ac`` file using ``autoconf``.
  This follows standard version control practices.
- when USEUTT is 0, generated utterance files are stored in ``data/utts`` rather
  than being discarded
- it uses an explicitly specified list of training corpus and generation corpus
  utterance ids rather than trying to autodetect what files are present in a
  given directory
- for the generation corpus, it generates from text or utterances files rather
  than from pre-specified label files
- clustering of all streams is performed throughout, whereas the official version
  disables clustering of the ``bap`` stream for the first of the two clusterings
  (this is done because it saves disk space and allows intermediate models to be
  used for synthesis)
- a bit more information is written to the log file during decision tree
  clustering, and a bit less during global variance generation
- untied models are removed after use, saving disk space
- various minor fixes and changes

License
-------

Please see the file ``License`` for details of the license and warranty for
hts-demo-en-US-cmudict-aridity.

Installation
------------

The source code is hosted in the
`hts-demo-en-US-cmudict-aridity github repository <https://github.com/MattShannon/hts-demo-en-US-cmudict-aridity>`_.
To obtain the latest source code using git::

    git clone git://github.com/MattShannon/hts-demo-en-US-cmudict-aridity.git

hts-demo-en-US-cmudict-aridity depends on the following software packages:

- `Festival <http://www.cstr.ed.ac.uk/projects/festival/>`_
  (for the ``dumpfeats`` script)
- `Speech Processing Toolkit (SPTK) <http://sourceforge.net/projects/sp-tk/>`_
- `HMM-based Speech Synthesis System (HTS) <http://hts.sp.nitech.ac.jp/>`_
- `hts_engine API <http://hts-engine.sourceforge.net/>`_
  (if synthesis using HTS engine rather than HTS's HMGenS tool is desired)

If STRAIGHT vocoding is used (recommended for better quality, though it is not
available under a permissive license) then the following software packages are
also required:

- `STRAIGHT vocoder <http://www.wakayama-u.ac.jp/~kawahara/STRAIGHTadv/index_e.html>`_
- `MATLAB <http://www.mathworks.com/products/matlab/>`_
  (to run the STRAIGHT vocoder)

The versions of these software packages required can be found in ``INSTALL``.

There are two high-level choices that need to be made when setting-up this
directory:

- whether to provide the text data for the corpus you wish to train on as simple
  text files (in which case the ``configure`` variable USEUTT should be set to 0)
  or as Festival utterance files (in which case USEUTT should be set to 1).
  Using Festival utterance files is the default.
- whether to use the STRAIGHT vocoder (in which case the ``configure`` variable
  USESTRAIGHT should be set to 1) or the non-STRAIGHT vocoder (in which case
  USESTRAIGHT should be set to 0).
  Using the STRAIGHT vocoder is the default.

To set-up this directory:

- add appropriate text files in ``data/txt`` (if USEUTT is 0), Festival utterance
  files in ``data/utts`` (if USEUTT is 1) and raw audio files in ``data/raw`` for
  the corpus you wish to use during training (see above for details of the formats
  used and details of where to obtain the processed CMU ARCTIC corpus typically
  used with this HTS demo)
- generate the ``configure`` script from ``configure.ac`` using ``autoconf``
- follow the instructions for the official version included in ``INSTALL``,
  setting the USEUTT and USESTRAIGHT ``configure`` variables appropriately.
  If you are using a corpus other than the CMU ARCTIC corpus for speaker SLT,
  you may wish to also specify the LOWERF0, UPPERF0, DATASET and SPEAKER
  ``configure`` variables.

Bugs
----

Bugs specifically about this modified version of the HTS demo can be submitted to the
`issue tracker <https://github.com/MattShannon/hts-demo-en-US-cmudict-aridity/issues>`_.
Please use the `HTS users mailing list <mailto:hts-users@sp.nitech.ac.jp>`_ to
submit bugs related to the original version of US English HTS demo after verifying
that the bug still occurs with the most recent official version available from the
`HTS demo website <http://hts.sp.nitech.ac.jp/?Download>`_.

Contact
-------

The author of the US English HTS demo is the HTS working group.
More information is available on the `HTS website <http://hts.sp.nitech.ac.jp/>`_
and from the `HTS users mailing list <mailto:hts-users@sp.nitech.ac.jp>`_.
The subsequent modifications for hts-demo-en-US-cmudict-aridity were made by
`Matt Shannon <mailto:matt.shannon@cantab.net>`_.
